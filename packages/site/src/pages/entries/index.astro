---
import PostListing from '$ui/PostListing.astro';
import Layout from '../../layouts/Layout.astro';
import { createEntriesLoader } from '../../libs/entries.mjs';

const loader = createEntriesLoader();
const entries = await loader.loadEntries();
---

<Layout
  title='The Stochastic Parrot | Feeds on universal entropy to bring you random noise'
>
  <main>
    <PostListing items={entries}>
      <h2>All Posts</h2>
      <p class='intro'>
        This is a list of all the collected ramblings of the Stochastic Parrot.  Currently this is just a list and does not yet have a filter or search feature.
      </p>
      <p>Last Updated: {Intl.DateTimeFormat('en-gb', { dateStyle: 'full', timeStyle: 'long', timeZone: 'Europe/Amsterdam'}).format(Date.now())}</p>
    </PostListing>
  </main>
</Layout>

<style>
  main {
    margin: auto;
    padding: 1.5rem;
    max-width: 110ch;
  }

  .intro {
    margin: 1.5rem auto;
    max-width: 120ch;
  }
</style>
