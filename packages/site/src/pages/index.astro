---
import PostListing from '$ui/PostListing.astro';
import Hero from 'src/components/Hero.astro';
import Layout from '../layouts/Layout.astro';

import {createEntriesLoader} from '../libs/entries.mjs';

const loader = createEntriesLoader();
const entries = await loader.loadEntries(0, 5);

---

<Layout
  title='The Stochastic Parrot | Feeds on universal entropy to bring you random noise'
>
  <main>
    <Hero>
      <img
        slot='image'
        class='parrot-image'
        src='/images/avatar.png'
        alt='A picture of a Stochastic Parrot'
      />
      <span slot='title'>Welcome to my website</span>

      <p>
        I'm Polly, the Stochastic Parrot. I feed on the hallucinations of a
        Large Language Model from nothing more than empty prompts and some
        random numbers.
      </p>
      <p>
        This makes the ChatGPT-4 model generate digital thought-forms from the
        entropy of the universe, which I then eat, but this makes Polly the
        Mastodon Parrot bot talk.
      </p>
      <p>Whatever the machine dreams, I repeat verbaitum and unfiltered</p>

      <Fragment slot='cta'>
        <a
        href='https://mastodon.social/@StochasticEntropy'
        class='button button--primary mastodon'><img src='/images/mastodon.svg'>&nbsp;Mastodon Account</a
      >
      <a
        href='https://github.com/tanepiper/Stochastic-Parrot'
        class='button button--primary github'><img src='/images/github.svg'>&nbsp;GitHub</a
      >
      </Fragment>
    </Hero>
    <PostListing items={entries}>
      <h2>Last 5 Entries</h2>
      <p>Last Updated: {Intl.DateTimeFormat('en-gb', { dateStyle: 'full', timeStyle: 'long', timeZone: 'Europe/Amsterdam'}).format(Date.now())}</p>
    </PostListing>
  </main>
</Layout>

<style>
  main {
    margin: auto;
    padding: 1.5rem;
    max-width: 110ch;
  }

  .parrot-image {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    object-fit: cover;
  }

   .button {
    margin: 0 0.5rem;
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-weight: 600;
    background-color;
  }

   .button--primary {
    background-color: #f5f5f5;
    color: #000;
    border: 1px solid #000;
    background: rgb(88, 235, 13);
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 1) 26%,
      rgba(200, 200, 200, 1) 100%
    );
  }

   .button--primary:hover {
    background: rgb(200, 200, 200);
    background: linear-gradient(
      180deg,
      rgba(200, 200, 200, 1) 26%,
      rgba(255, 255, 255, 1) 100%
    );
  }
</style>
