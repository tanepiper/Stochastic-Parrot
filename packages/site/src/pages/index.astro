---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import LatestPosts from '$ui/LatestPosts.astro';

const entries = await Astro.glob('../entries/*.json');
const latestFive = entries
  .map((e) => e.default)
  .sort((a, b) => (a.created > b.created ? -1 : 1))
  .slice(0, 5);
---

<Layout title='The Stochastic Parrot | Feeds on universal entropy to bring you random noise'>
  <main>
    <h1 style='text-align: center;'>
      Welcome to the <span class='text-gradient'>Stochastic Parrot</span> homepage
    </h1>
    <div style='text-align: center;'>
      <img src='/images/avatar_small.png' alt='Stochastic Parrot' />
    </div>
    <p class='instructions'>
      The <a href='https://mastodon.social/@StochasticEntropy'
        >Stochastic Parrot</a
      > is a Mastodon Bot that repeat responses from
      <a href='https://openai.com/product/gpt-4'>OpenAI GPT 4</a> from empty prompts
      - simply using the random noise of the GPT-4 model to generate digital thought-forms
      from the entropy of the universe to make Mastodon Parrot bot to repeat verbaitum.
    </p>
    <ul role='list' class='link-card-grid'>
      <Card
        href='https://mastodon.social/@StochasticEntropy'
        title='Mastodon Bot'
        body='The Socastic Parrot that lives on Mastodon'
      />
      <Card
        href='https://github.com/tanepiper/Stochastic-Parrot'
        title='GitHub'
        body='Source code and repo that the GitHub Action runs from'
      />
    </ul>

	<h2>Latest Items <span><a style="text-decoration: none; font-size: 0.8rem" href="/entries">All Entries ➡️</a></span></h2>
	
    <LatestPosts items={latestFive} />
  </main>
</Layout>

<style>
  main {
    margin: auto;
    padding: 1.5rem;
    max-width: 180ch;
  }

  .instructions {
	margin: 1.5rem auto;
	max-width: 120ch;
  }
</style>
