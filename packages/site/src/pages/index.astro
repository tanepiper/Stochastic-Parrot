---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import LatestPosts from '$ui/LatestPosts.astro';

const entries = await Astro.glob('../entries/*.json');
const latestFive = entries.map(e => e.default).sort((a, b) => a.created > b.created ? -1 : 1).slice(0, 5);
// const values = latestFive.map(e => {
// 	console.log(e.choices[0].message.content);
// 	return e.choices[0].message.content;
// });
//console.log(latestFive)
---

<Layout title='Welcome to Astro.'>
  <main>
    <h1>
      Welcome to the <span class='text-gradient'>Stocastic Parrot</span> homepage
    </h1>
    <p class='instructions'>
      The <a href='https://mastodon.social/@StochasticEntropy'
        >Stochastic Parrot</a
      > is a Mastodon Bot that repeat responses from
      <a href='https://openai.com/product/gpt-4'>OpenAI GPT 4</a> from empty prompts
      - simply using the random noise of the GPT-4 model to generate digital thought-forms
      for the Parrot bot to repeat verbaitum.
    </p>
    <ul role='list' class='link-card-grid'>
      <Card
        href='https://mastodon.social/@StochasticEntropy'
        title='Mastodon Bot'
        body='The Socastic Parrot that lives on Mastodon'
      />
      <Card
        href='https://githtub.com/tanepiper/Stochastic-Parrot'
        title='GitHub'
        body='Source code and repo that the GitHub Action runs from'
      />
    </ul>

	<LatestPosts items={latestFive} />
  </main>
</Layout>

<style>
  main {
    margin: auto;
    padding: 1.5rem;
    max-width: 180ch;
  }
</style>
